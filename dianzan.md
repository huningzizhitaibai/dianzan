## 编程式事务

叫做编程式事务, 是因为, 事务的边界完全由编程进行实现. 在spring中, 还存在使用`@Transactional`进行注解, 交给框架进行管理的声明式事务

## 在事务内加锁, 可能导致失效的原因

当线程A开启事务, 同时加上锁, 执行操作, 释放锁, 提交事务, 线程B可能在A释放锁之后立即进行数据库的读取, 但是在此时, A的数据库操作事务还未提交, 就会造成不可重复读. 所以需要让锁的范围包裹整个事务操作.